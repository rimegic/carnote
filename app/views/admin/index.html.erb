<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <h1 class="text-4xl font-bold mb-8 text-gray-900 dark:text-white">관리자 대시보드</h1>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center">
      <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">총 사용자 수</h2>
      <p class="text-5xl font-bold text-indigo-600 dark:text-indigo-400"><%= @total_users %></p>
    </div>
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center">
      <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">총 차량 수</h2>
      <p class="text-5xl font-bold text-indigo-600 dark:text-indigo-400"><%= @total_cars %></p>
    </div>
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center">
      <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">총 리뷰 수</h2>
      <p class="text-5xl font-bold text-indigo-600 dark:text-indigo-400"><%= @total_reviews %></p>
    </div>
  </div>

  <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 mb-8">
    <h2 class="text-2xl font-semibold mb-6 text-gray-900 dark:text-white">사용자 관리</h2>

    <div class="overflow-x-auto mb-8">
      <table class="min-w-full bg-white dark:bg-gray-700 rounded-lg shadow-md">
        <thead>
          <tr class="bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-200 uppercase text-sm leading-normal">
            <th class="py-3 px-6 text-left">ID</th>
            <th class="py-3 px-6 text-left">이메일</th>
            <th class="py-3 px-6 text-left">관리자</th>
            <th class="py-3 px-6 text-center">액션</th>
          </tr>
        </thead>
        <tbody class="text-gray-600 dark:text-gray-300 text-sm font-light">
          <% @users.each do |user| %>
            <tr class="border-b border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700">
              <td class="py-3 px-6 text-left whitespace-nowrap"><%= user.id %></td>
              <td class="py-3 px-6 text-left"><%= user.email %></td>
              <td class="py-3 px-6 text-left"><%= user.admin ? "예" : "아니오" %></td>
              <td class="py-3 px-6 text-center">
                <%= link_to "편집", edit_admin_user_path(user), class: "bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-3 rounded-lg text-xs mr-2" %>
                <%= link_to "삭제", delete_admin_user_path(user), data: { turbo_method: :delete, turbo_confirm: "정말로 이 사용자를 삭제하시겠습니까?" }, class: "bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 rounded-lg text-xs" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
    <h2 class="text-2xl font-semibold mb-6 text-gray-900 dark:text-white">차량 관리</h2>
    <%= link_to "새 차량 추가", new_admin_car_path, class: "bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg shadow-lg mb-6 inline-block" %>

    <div class="overflow-x-auto">
      <table class="min-w-full bg-white dark:bg-gray-700 rounded-lg shadow-md">
        <thead>
          <tr class="bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-200 uppercase text-sm leading-normal">
            <th class="py-3 px-6 text-left">ID</th>
            <th class="py-3 px-6 text-left">제조사</th>
            <th class="py-3 px-6 text-left">모델</th>
            <th class="py-3 px-6 text-left">연식</th>
            <th class="py-3 px-6 text-left">가격</th>
            <th class="py-3 px-6 text-center">액션</th>
          </tr>
        </thead>
        <tbody class="text-gray-600 dark:text-gray-300 text-sm font-light">
          <% @cars.each do |car| %>
            <tr class="border-b border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700">
              <td class="py-3 px-6 text-left whitespace-nowrap"><%= car.id %></td>
              <td class="py-3 px-6 text-left"><%= car.make %></td>
              <td class="py-3 px-6 text-left"><%= car.model %></td>
              <td class="py-3 px-6 text-left"><%= car.year %></td>
              <td class="py-3 px-6 text-left">₩<%= number_to_currency(car.price, precision: 0, unit: "") %></td>
              <td class="py-3 px-6 text-center">
                <%= link_to "편집", edit_admin_car_path(car), class: "bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-3 rounded-lg text-xs mr-2" %>
                <%= link_to "삭제", delete_admin_car_path(car), data: { turbo_method: :delete, turbo_confirm: "정말로 이 차량을 삭제하시겠습니까?" }, class: "bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 rounded-lg text-xs" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
    <h2 class="text-2xl font-semibold mb-6 text-gray-900 dark:text-white">리뷰 관리</h2>

    <div class="overflow-x-auto">
      <table class="min-w-full bg-white dark:bg-gray-700 rounded-lg shadow-md">
        <thead>
          <tr class="bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-200 uppercase text-sm leading-normal">
            <th class="py-3 px-6 text-left">ID</th>
            <th class="py-3 px-6 text-left">차량</th>
            <th class="py-3 px-6 text-left">작성자</th>
            <th class="py-3 px-6 text-left">평점</th>
            <th class="py-3 px-6 text-left">댓글</th>
            <th class="py-3 px-6 text-center">액션</th>
          </tr>
        </thead>
        <tbody class="text-gray-600 dark:text-gray-300 text-sm font-light">
          <% @reviews.each do |review| %>
            <tr class="border-b border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700">
              <td class="py-3 px-6 text-left whitespace-nowrap"><%= review.id %></td>
              <td class="py-3 px-6 text-left"><%= link_to "#{review.car.make} #{review.car.model}", car_path(review.car), class: "text-indigo-600 hover:text-indigo-500 font-semibold" %></td>
              <td class="py-3 px-6 text-left"><%= review.user.email %></td>
              <td class="py-3 px-6 text-left"><%= "⭐" * review.rating %></td>
              <td class="py-3 px-6 text-left"><%= review.comment %></td>
              <td class="py-3 px-6 text-center">
                <%= link_to "삭제", car_review_path(review.car, review), data: { turbo_method: :delete, turbo_confirm: "정말로 이 리뷰를 삭제하시겠습니까?" }, class: "bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 rounded-lg text-xs" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>